Vue.component("backup-row",{template:"#backup-row-template",props:{name:{type:String,"default":""},type:{type:String},date:{type:String},duration:{type:String},status:{type:String},row:{type:Number},jobId:{type:String},zipExist:{type:Boolean}},data:function(){return{}},methods:{},computed:{klass:function(){return this.row%2==0?"alternate":""},backupParsedId:function(){return this.name.replace(/[^A-Za-z0-9\-]/g,"")},cloudVisible:function(){return"SUCCESS"===this.status.toUpperCase()},cstatus:function(){return this.$parent.cloudStatus[this.jobId]}}}),Vue.component("send-cloud",{template:"#send-to-cloud",props:{visible:{type:Boolean,"default":!1},kloudStatus:{type:String}},data:function(){return{providers:[],DROPBOX:{},GDRIVE:{},AMAZONS3:{},jobId:this.$parent.jobId,row:this.$parent.row}},methods:{openModal:function(t){this.$refs[t].open()},closeModal:function(t){this.$refs[t].close()},getEnabledProviders:function(){AjaxGetSafe("get_enabled_providers").then(function(t){t.success&&(this.providers=t.data)}.bind(this))},saveIndProviders:function(t){for(var e=this.providers.length,s=0;s<e;s++)this.providers[s]===ENUM.DROPBOX&&this.DROPBOX[t]===!0?this.postJobIdToSafe(t,ENUM.DROPBOX):this.providers[s]===ENUM.GDRIVE&&this.GDRIVE[t]===!0?this.postJobIdToSafe(t,ENUM.GDRIVE):this.providers[s]===ENUM.AMAZONS3&&this.AMAZONS3[t]===!0&&this.postJobIdToSafe(t,ENUM.AMAZONS3);this.closeModal("modal"+t)},postJobIdToSafe:function(t,e){var s={job_id:t,provider:e};AjaxPostSafe("queue_job_sync",s).then(function(t){t.success&&(this.kloudStatus=CLOUDSTATUS.UPLOADING)}.bind(this))}},mounted:function(){this.getEnabledProviders()}});var validators={email:new RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/),text:new RegExp(/^[a-zA-Z]+$/),digits:new RegExp(/^[\d() \.\:\-\+#]+$/)};Vue.component("input-tags",{template:"#input-tags-template",props:{tags:{type:Array,"default":[]},placeholder:{type:String,"default":""},onChange:{type:Function},readOnly:{type:Boolean,"default":!1},validate:{type:String,"default":""}},data:function(){return{newTag:""}},methods:{focusNewTag:function(){this.readOnly||this.$el.querySelector(".new-tag").focus()},addNew:function(t){t&&this.tags.indexOf(t)===-1&&this.validateIfNeeded(t)&&(this.tags.push(t),this.tagChange()),this.newTag=""},validateIfNeeded:function(t){return""===this.validate||void 0===this.validate||(!(Object.keys(validators).indexOf(this.validate)>-1)||validators[this.validate].test(t))},remove:function(t){this.tags.splice(t,1),this.tagChange()},removeLastTag:function(){this.newTag||(this.tags.pop(),this.tagChange())},tagChange:function(){this.onChange&&this.onChange(JSON.parse(JSON.stringify(this.tags)))}}});