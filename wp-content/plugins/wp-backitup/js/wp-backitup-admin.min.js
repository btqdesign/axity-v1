!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueTabs=t():e.VueTabs=t()}(this,function(){return function(e){function t(i){if(a[i])return a[i].exports;var s=a[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports=function(e,t,a,i){var s,n=e=e||{},o=typeof e["default"];"object"!==o&&"function"!==o||(s=e,n=e["default"]);var c="function"==typeof n?n.options:n;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),a&&(c._scopeId=a),i){var r=Object.create(c.computed||null);Object.keys(i).forEach(function(e){var t=i[e];r[e]=function(){return t}}),c.computed=r}return{esModule:s,exports:n,options:c}}},function(e,t,a){var i=a(0)(a(3),a(8),null,null);i.options.__file="C:\\work\\vue-tabs\\src\\components\\TabContent.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] TabContent.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},function(e,t,a){a(7),a(6);var i=a(0)(a(4),a(9),null,null);i.options.__file="C:\\work\\vue-tabs\\src\\components\\VueTabs.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] VueTabs.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"v-tab",props:{title:{type:String,"default":""},icon:{type:String,"default":""},beforeChange:{type:Function},route:{type:[String,Object]},transitionName:String,transitionMode:String},computed:{isValidParent:function(){return"vue-tabs"===this.$parent.$options.name}},data:function(){return{active:!1}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"vue-tabs",props:{activeTabColor:String,activeTextColor:String,textPosition:{type:String,"default":"center"},type:{type:String,"default":"tabs"},direction:{type:String,"default":"horizontal"},centered:Boolean,startIndex:{type:Number,"default":0}},data:function(){return{activeTabIndex:0,tabs:[]}},computed:{tabCount:function(){return this.tabs.length},isTabShape:function(){return"tabs"===this.type},isStacked:function(){return"vertical"===this.direction},classList:function(){return"nav "+(this.isTabShape?"nav-tabs":"nav-pills")+" "+(this.centered?"nav-justified":"")+" "+(this.isStacked?"nav-stacked":"")},stackedClass:function(){return this.isStacked?"stacked":""},activeTabStyle:function(){return{backgroundColor:this.activeTabColor,color:this.activeTextColor}},activeTitleColor:function(){return{color:this.activeTabColor}}},methods:{navigateToTab:function(e){this.beforeTabChange(this.activeTabIndex)&&this.changeTab(this.activeTabIndex,e)},beforeTabChange:function(e){var t=this.tabs[e];return!t||void 0===t.beforeChange||t.beforeChange()},changeTab:function(e,t){if(!(t<0||t>=this.tabCount)){var a=this.tabs[e],i=this.tabs[t];a&&(a.active=!1,i&&(i.active=!0)),this.activeTabIndex=t,this.tryChangeRoute(i)}},tryChangeRoute:function(e){this.$router&&e&&e.route&&this.$router.push(e.route)}},mounted:function(){if(this.tabs=this.$children.filter(function(e){return"v-tab"===e.$options.name}),this.tabs.length>0&&0===this.startIndex){var e=this.tabs[this.activeTabIndex];e.active=!0,this.tryChangeRoute(e)}if(this.startIndex<this.tabs.length){var t=this.tabs[this.startIndex];this.activeTabIndex=this.startIndex,t.active=!0,this.tryChangeRoute(this.tabs[this.startIndex])}else console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}}},function(e,t,a){e.exports={VueTabs:a(2),VTab:a(1),install:function(t){t.component("vue-tabs",e.exports.VueTabs),t.component("v-tab",e.exports.VTab)}}},function(e,t){},function(e,t){},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.active?a("div",{staticClass:"tab-container"},[e._t("default")],2):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-tabs","class":e.stackedClass},[a("ul",{"class":e.classList},[e._l(e.tabs,function(t,i){return e._t("tab",[a("li",{key:t,staticClass:"tab","class":{active:t.active}},["top"===e.textPosition?a("span",{staticClass:"title title_top",style:t.active?e.activeTitleColor:{}},[e._v("\n            "+e._s(t.title)+"\n        ")]):e._e(),e._v(" "),a("a",{style:t.active?e.activeTabStyle:{},attrs:{href:""},on:{click:function(t){t.preventDefault(),e.navigateToTab(i)}}},[a("i",{"class":t.icon},["center"===e.textPosition?a("span",[e._v("\n               "+e._s(t.title)+"\n            ")]):e._e()])]),e._v(" "),"bottom"===e.textPosition?a("span",{staticClass:"title title_bottom",style:t.active?e.activeTitleColor:{}},[e._v("\n            "+e._s(t.title)+"\n        ")]):e._e()])],{tab:t,index:i,clickHandler:e.navigateToTab})})],2),e._v(" "),a("div",{staticClass:"tab-content"},[e._t("default")],2)])},staticRenderFns:[]},e.exports.render._withStripped=!0}])}),function(e){function t(){e(".viewloglink").click(function(){var t=e(this).attr("href");return e("#backup_name").val(t),e("#viewlog").submit(),!1})}function a(){e(".downloadbackuplink").bind("click",function(){var t=e(this).attr("href");return e("#backup_file").val(t),e(this).append('<i class="fa fa-check"></i>'),e(this).css({color:"green"}),e("#download_backup").submit(),!1})}function i(t,i){var n=({action:_("backup_zip_filelist"),job_id:t},i.replace(/[^A-Za-z0-9\-]/g,"")),o=0,c="",r='<div id="'+n+'">            <h2>WP BackItUp Backup Set: &nbsp;<em>'+i+'</em></h2>            <div class="wpbiu-notes">            <textarea class="backupnotes" id="wpbiu-note-box" placeholder="add notes here"></textarea>            <button id="wpbiu-note-btn" class="button-primary">Save</button><span id="wpbiu-note-response">Note Saved!</span></div>            <p>Below are the archive files included in this backup set. Click the link to download.</p>            <table class="widefat" id="datatable">              <tbody>';e.ajax({url:ajaxurl,type:"POST",data:{action:_("backup_zip_filelist"),job_id:t},dataType:"json"}).done(function(i){i.data?(e.each(i.data,function(){var t=e(this)[0].name.split(/[\/]+/).pop(),a=e(this)[0].size,i=e(this)[0].file_exists;if(console.log(t,a),t.indexOf("-backupset-")>-1)c='<p><a class="downloadbackuplink" href="'+t+'"><i class="fa fa-cloud-download fa-3x"></i> <strong>Download a single zip file that contains all these files.</strong></a>                                          <br><em>* Please note that this is a '+a+" file which may timeout on some hosts.</em></p>";else{o++;var s="";o%2!=0&&(s="alternate"),r+='<tr class="'+s+'" id="row'+o+'">',r+=i?'<td><a class="downloadbackuplink" href="'+t+'">'+t+"</a></td>":"<td>"+t+"</td>",r+="<td>"+a+"</td>                         </tr>"}}),r+=c+"</tbody></table></div>",e("#TB_ajaxContent").html(r),a(),e.ajax({url:ajaxurl,type:"post",data:{action:_("backup_get_note"),job_id:t},success:function(t){e("#wpbiu-note-box").val(t.data)}}),e("#wpbiu-note-btn").click(function(){var a=e("#wpbiu-note-box").val();e.ajax({url:ajaxurl,type:"POST",data:{action:_("backup_add_note"),job_id:t,note:a},dataType:"json"}).success(function(t){e("#wpbiu-note-response").fadeIn()})}),e("#wpbiu-note-box").focus(function(){e("#wpbiu-note-response").hide()})):s(i,null,null)}).fail(function(e,t,a){s(e,t,a)})}function s(e,t,a){var i="Error-Invalid response from server:  ";t&&(i+=t+"\n"),a&&(i+=a+"\n"),i+="\nResponse: \n\n"+JSON.stringify(e),alert(i)}function n(){var t={action:_("restore_status_reader"),job_id:m};e.post(ajaxurl,t,function(t){var a=e(t);a.each(function(){var t="."+e(this).attr("class"),a="."+e(this).attr("class")+"-icon";0==e(this).html()&&(e(t).find(".status").hide(),e(t).find(".status-icon").hide()),1==e(this).html()&&(e(a).css("visibility","visible"),e(t).find(".status").fadeOut(200),e(t).find(".status-icon").fadeIn(1500)),2==e(this).html()&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".status").fadeIn(1500)),e(this).html()==-1&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".fail").fadeIn(1500),e(t).find(".isa_error").fadeIn(1500),clearInterval(window.intervalDefine)),e(this).html()==-2&&e(t).find(".isa_warning").fadeIn(1500),99==e(this).html()&&(e(t).find(".isa_success").fadeIn(1500),clearInterval(window.intervalDefine))})})}function o(){var t={action:_("backup_status_reader"),job_id:m};e.post(ajaxurl,t,function(t){if(j)return clearInterval(window.intervalDefine),e(".status-icon").fadeOut(200),e("#backup-button").removeAttr("disabled"),e("#cancel-button").fadeOut(200),e(".backup-cancelled").fadeIn(200),!1;var a=e(t);a.each(function(){var t="."+e(this).attr("class"),a="."+e(this).attr("class")+"-icon";0==e(this).html()&&(e(t).find(".status").hide(),e(t).find(".status-icon").hide()),1==e(this).html()&&(e(a).css("visibility","visible"),e(t).find(".status").fadeOut(200),e(t).find(".status-icon").fadeIn(1500)),2==e(this).html()&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".status").fadeIn(1500)),e(this).html()==-1&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".fail").fadeIn(1500),clearInterval(window.intervalDefine),c()),e(this).html()==-2&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".wpbackitup-warning").fadeIn(1500)),99==e(this).html()&&(e(t).find(".status-icon").fadeOut(200),e(t).find(".status").fadeIn(1500),clearInterval(window.intervalDefine),c())})})}function c(){var t=e.ajax({url:ajaxurl,type:"POST",data:{action:_("backup_response_reader")},dataType:"json"});t.always(function(t,a,i){if(console.log("Backup Response:"+JSON.stringify(t)),"undefined"!=typeof t.backupStatus&&"undefined"!=typeof t.backupMessage){if(console.log("JSON Backup Status:"+t.backupStatus),console.log("JSON Backup Message:"+t.backupMessage),y)return;switch(y=!0,t.backupStatus){case"success":if(console.log("JSON success response received."),e(".status-icon").fadeOut(200),e("#backup-button").removeAttr("disabled"),e("#cancel-button").addClass("cancel-hidden"),e(".isa_success").show,e(".backup-success").fadeIn(1500),f(t),"undefined"!=typeof t.backupWarnings){var s=e(".backup-warning"),n=t.backupWarnings;n.forEach(function(e){var t=e.warningMessage;s.append('<li class="isa_warning">'+wpbackitup_local.warning+": "+t+"</li>")}),s.fadeIn(1500)}break;case"error":console.log("JSON error response received.");var o=wpbackitup_local.unexpected_err;"undefined"!=typeof t.backupMessage&&(o=t.backupMessage);var c=wpbackitup_local.error+": &nbsp;"+o,r=e(".backup-error");r.html(c),r.addClass("isa_error"),r.fadeIn(1500),e(".status-icon").fadeOut(200),e("#backup-button").removeAttr("disabled"),e("#cancel-button").addClass("cancel-hidden");break;default:console.log("Unexpected JSON response status received.");var o=wpbackitup_local.unexpected_err2;"undefined"!=typeof t.backupMessage&&(o=t.backupMessage);var c=wpbackitup_local.error+"(JS998) : &nbsp;"+o,l=e(".backup-error");l.html(c),l.addClass("isa_error"),l.fadeIn(1500),e(".status-icon").fadeOut(200),e("#backup-button").removeAttr("disabled"),e("#cancel-button").addClass("cancel-hidden")}}else{console.log("NON JSON response received."),console.log("Backup Response:"+i),c=wpbackitup_local.unexpected_err3+": &nbsp;",c+="</br>"+wpbackitup_local.response+": &nbsp;"+JSON.stringify(t),c+="</br>"+wpbackitup_local.status+": &nbsp;"+a,c+="</br>"+wpbackitup_local.error+": &nbsp;"+JSON.stringify(i),e(".backup-status").hide();var l=e(".backup-error");l.html(c),l.addClass("isa_error"),l.show(),e(".status-icon").fadeOut(200)}})}function r(){e(".backup-icon").css("visibility","visible"),e(".backup-icon").show(),e(".backup-success").hide(),e(".default-status").hide(),e(".backup-error").hide(),e(".backup-cancelled").hide(),e("ul.backup-status").children().children().hide(),e(".backup-errors").children().children().hide(),e(".backup-success").children().children().hide(),e(".backup-status").show(),y=!1,window.intervalDefine=setInterval(o,5e3)}function l(){e(".backup-icon").css("visibility","visible"),e(".backup-icon").show(),e(".backup-status").show(),y=!1,clearInterval(window.intervalDefine),window.intervalDefine=setInterval(o,5e3)}function u(){e(".restore-icon").css("visibility","visible"),e(".default-status, .upload-status").hide(),e("ul.restore-status").children().children().hide(),e(".restore-errors").children().children().hide(),e(".restore-success").children().children().hide(),e(".restore-status, .restore-errors, .restore-success").show(),e(".preparing-icon").css("visibility","visible"),e(".preparing").find(".status-icon").fadeIn(1500),window.intervalDefine=setInterval(n,5e3)}function d(t){var a=new plupload.Uploader(t);a.init(),a.bind("FilesAdded",function(t,a){plupload.each(a,function(t){e("#filelist").append('<div id="media-item-'+t.id+'" class="media-item child-of-0"><img class="pinkynail" alt="" src="'+site_url+'/wp-includes/images/media/archive.png"><div class="filename new" id="'+t.id+'">'+t.name+" (<span>"+plupload.formatSize(0)+"</span> of "+plupload.formatSize(t.size)+') <div class="progress" style="width: 0%;"></div></div></div>')}),t.refresh(),t.start()}),a.bind("UploadProgress",function(t,a){e("#"+a.id+" .progress").width(.15*a.percent+"%"),e("#"+a.id+" span").html(plupload.formatSize(parseInt(a.size*a.percent/100)))}),a.bind(" ChunkUploaded",function(e,t,a){console.log("Chunk Uploaded:"),console.log(a),p(a,e,t)&&console.log("chunk error")}),a.bind("Error",function(t,a){console.log("PlUpload Error:"),console.log(a);var i="error-item-"+a.file.id;e("#"+i).length||e("#filelist").append('<div class="error-div error" id="'+i+'" ><strong>'+a.file.name+" has failed to upload due to error:&nbsp;</strong> <span>"+a.message+"</span> </div>")}),a.bind("FileUploaded",function(t,a,i){console.log("File Uploaded"),console.log(i),p(i,t,a)?console.log("uploaded error"):(console.log("uploaded success"),e("#"+a.id+" .progress").css("background-color","green"),e("#import-uploads").show())})}function p(e,t,a){if("200"!=e.status)return alert("Unknown server response status: "+e.code),console.log(e),b(t,a,999,e.response),!0;try{return response_json=jQuery.parseJSON(e.response),!!response_json.error&&(b(t,a,100,response_json.error),!0)}catch(i){return console.log("Unexpected JSON Error"+i),b(t,a,998,e.response),!0}}function b(t,a,i,s){a.status=plupload.FAILED,t.trigger("Error",{code:i,message:s,file:a}),e("#media-item-"+a.id).hide()}function f(i){console.log(i);var s;s='class="success-grid"',e("#datatable tr").first().hasClass("alternate")||(s='class="alternate success-grid"');var n=e("#datatable tr:last")[0].id.replace("row","");if(n++,"undefined"!=typeof i){var o='<td data-th="Type" class="word-capitalize">'+i.backupRuntype+'</td>\n<td data-th="Date">'+i.backupDate+"</td>\n";o+='<td data-th="Duration">'+i.backupDuration+"</td>\n",i.backupMessage&&(o+='<td data-th="Status" class="word-capitalize">'+i.backupMessage+"</td>\n");var c=i.backupName,r=c.replace(/[^A-Za-z0-9\-]/g,""),l=c.lastIndexOf("_"),u=c.substring(l+1),d="<tr "+s+' id="row'+n+'">\n            <td data-th="Backup"><a href="#TB_inline?width=600&height=550&inlineId='+r+'" class="thickbox" title="Download Backup" name="'+i.backupName+'" data-jobid="'+u+'"><i class="fa fa-download"></i> '+i.backupName+"</a></td>\n";d+=o,d+="<td>&nbsp;</td><td>&nbsp;</td>",d+="</tr>",e("#nofiles")&&e("#nofiles").remove();e("#datatable tr").length;e("#datatable").prepend(d),e("#datatable tr:first").hide().show("slow"),t(),a()}}function _(e){return v+"_"+e}function h(){notification_bar=e("#wp-backitup-notification-parent"),notification_bar.fadeOut("slow")}function g(t){notification_bar_message=e("#wp-backitup-notification-message"),notification_bar_message.html("<p>"+t+"</p>"),notification_bar=e("#wp-backitup-notification-parent"),notification_bar.toggleClass("error",!1),notification_bar.toggleClass("updated",!0),notification_bar.show(),e("html, body").animate({scrollTop:0},"slow")}function k(t){notification_bar_message=e("#wp-backitup-notification-message"),notification_bar_message.html("<p>"+t+"</p>"),notification_bar=e("#wp-backitup-notification-parent"),notification_bar.toggleClass("updated",!1),notification_bar.toggleClass("error",!0),notification_bar.show(),e("html, body").animate({scrollTop:0},"slow")}var v="wp-backitup",m=0;t(),a();try{"undefined"!=typeof wpbackitup_plupload_config&&d(wpbackitup_plupload_config)}catch(w){console.log(w)}e(".logs_backup").click(function(){var t=e(this).attr("href");return e("#backup_file").val(t),e("#download_logs").val(),e("#download_backup").submit(),!1}),e("#scheduled-backups-accordian").click(function(){scheduled_backups=e("#scheduled-backups"),scheduled_backups_button=e("#scheduled-backups-accordian"),e(this).is(".fa-angle-double-down")?(scheduled_backups.fadeIn("slow"),scheduled_backups_button.toggleClass("fa-angle-double-down",!1),scheduled_backups_button.toggleClass("fa-angle-double-up",!0)):(scheduled_backups_button.toggleClass("fa-angle-double-down",!0),scheduled_backups_button.toggleClass("fa-angle-double-up",!1),scheduled_backups.fadeOut("slow"))}),e("#upload-backups-accordian").click(function(){upload_backups=e("#wpbackitup-plupload-modal"),upload_backups_button=e("#upload-backups-accordian"),e(this).is(".fa-angle-double-down")?(upload_backups.fadeIn("slow"),upload_backups_button.toggleClass("fa-angle-double-down",!1),upload_backups_button.toggleClass("fa-angle-double-up",!0)):(upload_backups_button.toggleClass("fa-angle-double-down",!0),upload_backups_button.toggleClass("fa-angle-double-up",!1),upload_backups.fadeOut("slow"))}),e("#wpbackitup-zip").bind("change",function(){var t=this.files[0].size,a=e("#maxfilesize").val();"undefined"!=t&&"undefined"!=a&&""!=t&&""!=a&&t>a&&(alert(wpbackitup_local.upload_file_size_exceed),e("#wpbackitup-zip").val(""))}),e("#import-uploads").click(function(){setTimeout(function(){window.location.reload()},100)}),e(document.body).on("click",".thickbox",function(){if(!e(this).parents(".wpbiu-restore-item").length){var t=e(this).data("jobid");console.log(t);var a=this.name;i(t,a)}}),e(document.body).on("click",".thickbox",function(){var t=e(this).data("jobid"),a=e(this).attr("name");if(e(this).parents(".wpbiu-restore-item").length){var i="<h2>WP BackItUp Backup Set: &nbsp;<em>"+a+'</em></h2>              <div class="wpbiu-notes">                 <textarea class="backupnotes" id="wpbiu-restore-note-box" placeholder="add notes here"></textarea>                 <button id="wpbiu-restore-note-btn" class="button-primary">Save</button>                 <span id="wpbiu-restore-note-response">Note Saved!</span>               </div>';e("#wpbiu-restore-note").html(i),e("#wpbiu-restore-note-response").hide(),e.ajax({url:ajaxurl,type:"post",data:{action:_("backup_get_note"),job_id:t},success:function(t){e("#wpbiu-restore-note-box").val(t.data)}}),e("#wpbiu-restore-note-btn").click(function(){var a=e("#wpbiu-restore-note-box").val();e.ajax({url:ajaxurl,type:"POST",data:{action:_("backup_add_note"),job_id:t,note:a},dataType:"json"}).success(function(t){e("#wpbiu-restore-note-response").fadeIn()})})}e("#wpbiu-restore-note-box").focus(function(){e("#wpbiu-restore-note-response").hide()})});var y=!1;e("#wp-backitup-notification-widget-close").click(function(){notification_bar=e("#wp-backitup-notification-widget"),notification_bar.fadeOut("slow");var t=e.ajax({url:ajaxurl,type:"POST",data:{action:_("delete_transient")},dataType:"json"});t.always(function(t,a,i){t!==!1&&(notification_bar.removeClass(),notification_bar.addClass("notice"),notification_bar.addClass("notice-"+t.message_type),e("#wp-backitup-notification-widget-message p").html(t.message),notification_bar.hide().fadeIn("slow"))})}),e("#wp-backitup-notification-close").click(function(){h()}),e("#wp-backitup-save_schedule_form").submit(function(){var t=new FormData;t.append("action",_("update-schedule")),t.append("_wpnonce",e("#wp-backitup_nonce-update-schedule").val()),t.append("_wp_http_referer",e("[name='_wp_http_referer']").val());var a=[];return e.each(e("input[name='dow']:checked"),function(){a.push(e(this).val())}),t.append("days_selected",a),jQuery.ajax({url:ajaxurl,type:"POST",cache:!1,contentType:!1,processData:!1,dataType:"json",data:t,success:function(e,t,a){switch(response=e.message,console.log("Success:"+response),response){case"success":g(wpbackitup_local.scheduled_saved);break;case"error":k(wpbackitup_local.scheduled_not_saved)}},error:function(e,t,a){console.log("Error."+t+":"+a)},complete:function(e,t){console.log("Complete")}}),!1});var x=null;e(".backup-button").click(function(t){t.preventDefault(),j=!1,e("#backup-button").attr("disabled","disabled"),e("#cancel-button").removeClass("cancel-hidden"),e("#cancel-button").removeAttr("disabled"),e("#cancel-button").fadeIn(200),x=e.ajax({url:ajaxurl,type:"POST",data:{action:_("backup")},cache:!1,dataType:"json",beforeSend:function(e,t){console.log("BeforeSend:Nothing to report."),r()}}),x.always(function(e,t,a){console.log("Backup Button Click - Always"),console.log(e.message),"undefined"!=typeof e.job_id?(m=e.job_id,console.log("Job_Id:"+e.job_id)):console.log("No Job Id found:"+e)})});var j=!1;e(".cancel-button").click(function(t){t.preventDefault(),e("#cancel-button").attr("disabled","disabled"),null!=x&&(x.abort(),x=null),x=e.ajax({url:ajaxurl,type:"POST",data:{action:_("cancel_backup"),job_id:m},cache:!1,dataType:"json",beforeSend:function(e,t){console.log("BeforeSend:Nothing to report."),l()}}),x.always(function(e,t,a){console.log("Cancel Button Click - Always"),console.log(e),"undefined"!=typeof e.success&&1==e.success?console.log("Job Cancelled successfully"):console.log("Job was not cancelled successfully"),j=!0})}),e("#datatable").on("click","a.restoreRow",function(t){if(t.preventDefault(),confirm(wpbackitup_local.confirm_restore)){var a=this.title;this.id.replace("restoreRow","row");userid=e("input[name=user_id]").val();var i=e.ajax({url:ajaxurl,type:"post",data:{action:_("restore"),selected_file:a,user_id:userid},cache:!1,dataType:"json",beforeSend:function(){console.log("BeforeSend:Nothing to report."),u()}});i.always(function(e,t,a){"undefined"!=typeof e.job_id?(m=e.job_id,console.log("Job_Id:"+e.job_id)):console.log("No Job Id found:"+e)})}}),e("#datatable").on("click","a.deleteRow",function(t){if(t.preventDefault(),confirm(wpbackitup_local.sure)){var a=this.title,i=e(this).data("id"),s=this.id.replace("deleteRow","row");e.ajax({url:ajaxurl,type:"post",data:{action:_("delete_file"),filed:a,post_id:i},success:function(t){var a=t.search("deleted");0==a?e("#"+s).remove():alert(wpbackitup_local.file_not_del)}})}}),e("#datatable").on("click","a.safeUploadRow",function(t){if(t.preventDefault(),confirm(wpbackitup_local.sure)){var a=this.title,i=e(this).data("id");this.id.replace("safeUploadRow","row");e.ajax({url:ajaxurl,type:"post",data:{action:_("safe_upload"),filed:a,post_id:i},success:function(e){e.search("success")}})}})}(jQuery);var validators={email:new RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/),text:new RegExp(/^[a-zA-Z]+$/),digits:new RegExp(/^[\d() \.\:\-\+#]+$/)};Vue.component("input-tags",{template:"#input-tags-template",props:{tags:{type:Array,"default":[]},placeholder:{type:String,"default":""},onChange:{type:Function},readOnly:{type:Boolean,"default":!1},validate:{type:String,"default":""}},data:function(){return{newTag:""}},methods:{focusNewTag:function(){this.readOnly||this.$el.querySelector(".new-tag").focus()},addNew:function(e){e&&this.tags.indexOf(e)===-1&&this.validateIfNeeded(e)&&(this.tags.push(e),this.tagChange()),this.newTag=""},validateIfNeeded:function(e){return""===this.validate||void 0===this.validate||(!(Object.keys(validators).indexOf(this.validate)>-1)||validators[this.validate].test(e))},remove:function(e){this.tags.splice(e,1),this.tagChange()},removeLastTag:function(){this.newTag||(this.tags.pop(),this.tagChange())},tagChange:function(){this.onChange&&this.onChange(JSON.parse(JSON.stringify(this.tags)))}}}),function(e){"use strict";var t="wp-backitup",a=function(e){return t+"_"+e},i=function(t){return e.ajax({url:ajaxurl,type:"GET",data:{action:a(t)},dataType:"json"})},s=function(t,i){var i=i||{};return i.action=a(t),i.security=e("#wpbackitup-core-ajax-nonce").val(),e.ajax({url:ajaxurl,type:"POST",data:i,dataType:"json"})};e(window).load(function(){if(document.querySelector("#wpbackitup-core-settings")){Vue.use(VueTabs);var e=new Vue({el:"#wpbackitup-core-settings",data:{loading:!1,updated:!1,emailsArray:[],errorMessages:{},backup_retained_number:3,logging:!1,single_file_db:!1,single_file_backupset:!1,rversion_compare:!1,remove_supporting_zip_files:!1,backup_plugins_filter:[],backup_themes_filter:[],backup_uploads_filter:[],backup_others_filter:[],dbFilterOptions:[],db_filters:[],backup_dbtables_batch_size:1e4,backup_sql_merge_batch_size:1e4,backup_sql_batch_size:1e4,backup_plugins_batch_size:5e3,backup_themes_batch_size:5e3,backup_uploads_batch_size:500,backup_others_batch_size:500,backup_zip_max_size:524288e3,backup_max_timeout:120,delete_all:!1},computed:{dbFilterHasSearch:function(){return 0==this.dbFilterOptions.length},dbFilterPlaceholder:function(){return this.dbFilterOptions.length>0?"Select Database table to filter":"No database table to filter"}},methods:{handleEmailInput:function(e){},handleTagsInput:function(e){},setSettings:function(){var t={data:{notification_email:this.emailsArray.join(","),backup_retained_number:this.backup_retained_number,logging:this.logging,single_file_db:this.single_file_db,single_file_backupset:this.single_file_backupset,rversion_compare:this.rversion_compare,remove_supporting_zip_files:this.remove_supporting_zip_files,backup_plugins_filter:this.backup_plugins_filter.join(","),backup_themes_filter:this.backup_themes_filter.join(","),backup_uploads_filter:this.backup_uploads_filter.join(","),backup_others_filter:this.backup_others_filter.join(","),backup_dbtables_filter_list:this.db_filters.map(function(e){return e.value}).join(","),backup_dbtables_batch_size:this.backup_dbtables_batch_size,backup_sql_merge_batch_size:this.backup_sql_merge_batch_size,backup_sql_batch_size:this.backup_sql_batch_size,backup_plugins_batch_size:this.backup_plugins_batch_size,backup_themes_batch_size:this.backup_themes_batch_size,backup_uploads_batch_size:this.backup_uploads_batch_size,backup_others_batch_size:this.backup_others_batch_size,backup_zip_max_size:this.backup_zip_max_size,backup_max_timeout:this.backup_max_timeout,delete_all:this.delete_all}};console.log(t),s("set_settings",t).then(function(t){t.success?(e.updated=!0,e.errorMessages={},swal(wpbackitup_local.settings_save_awesome,wpbackitup_local.settings_save_success_message,"success")):(e.errorMessages=t.data,swal(wpbackitup_local.settings_save_oops,wpbackitup_local.settings_save_error_message,"error"))})},getSettings:function(){this.loading=!0,i("get_settings").then(function(t){e.loading=!1,t.success&&(console.log(t),e.emailsArray=t.data.notification_email.split(",").filter(Boolean),e.backup_retained_number=t.data.backup_retained_number,e.logging="1"===t.data.logging,e.single_file_db="1"===t.data.single_file_db,e.rversion_compare="1"===t.data.rversion_compare,e.single_file_backupset="1"===t.data.single_file_backupset,e.remove_supporting_zip_files="1"===t.data.remove_supporting_zip_files,e.backup_plugins_filter=t.data.backup_plugins_filter.split(",").filter(Boolean),e.backup_themes_filter=t.data.backup_themes_filter.split(",").filter(Boolean),e.backup_uploads_filter=t.data.backup_uploads_filter.split(",").filter(Boolean),e.backup_others_filter=t.data.backup_others_filter.split(",").filter(Boolean),e.db_filters=t.data.backup_dbtables_filter_list.split(",").filter(Boolean).map(function(e){return{label:e,value:e}}),e.dbFilterOptions=Object.keys(t.data.backup_dbtables_filterable).map(function(e){var a=t.data.backup_dbtables_filterable[e];return{label:a,value:a}}),e.backup_dbtables_batch_size=t.data.backup_dbtables_batch_size,e.backup_sql_merge_batch_size=t.data.backup_sql_merge_batch_size,e.backup_sql_batch_size=t.data.backup_sql_batch_size,e.backup_plugins_batch_size=t.data.backup_plugins_batch_size,e.backup_themes_batch_size=t.data.backup_themes_batch_size,e.backup_uploads_batch_size=t.data.backup_uploads_batch_size,e.backup_others_batch_size=t.data.backup_others_batch_size,e.backup_zip_max_size=t.data.backup_zip_max_size,e.backup_max_timeout=t.data.backup_max_timeout,e.delete_all="1"===t.data.delete_all)})}},created:function(){this.getSettings()}})}})}(jQuery);